(function(t){function e(e){for(var a,i,c=e[0],s=e[1],u=e[2],f=0,p=[];f<c.length;f++)i=c[f],o[i]&&p.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},6860:function(t,e,n){},"7e3e":function(t,e,n){"use strict";var a=n("f114"),o=n.n(a);o.a},"98f5":function(t,e,n){"use strict";var a=n("6860"),o=n.n(a);o.a},bdde:function(t,e,n){"use strict";var a=n("d6fe"),o=n.n(a);o.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AppHeader"),n("div",{staticClass:"ui container"},[n("router-view")],1)],1)},r=[],i=n("d225"),c=n("308d"),s=n("6bb5"),u=n("4e2b"),l=n("9ab4"),f=n("60a3"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui secondary pointing menu"},[n("a",{staticClass:"active item",attrs:{href:"/"}},[t._v("\n        Image Uploader\n    ")]),n("div",{staticClass:"right menu"},[t.isLoggedIn?n("div",{staticClass:"horizontal"},[n("router-link",{staticClass:"item",attrs:{to:"/"}},[t._v("Galleries")]),n("router-link",{staticClass:"item",attrs:{to:"/upload"}},[t._v("Upload")]),n("a",{staticClass:"item",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1):n("a",{staticClass:"ui item",attrs:{href:"#"},on:{click:t.login}},[t._v("\n            Login\n        ")])])])},d=[],g=n("4bb5"),h=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(f["b"]);l["a"]([Object(g["b"])("isLoggedIn")],h.prototype,"isLoggedIn",void 0),l["a"]([Object(g["a"])("login")],h.prototype,"login",void 0),l["a"]([Object(g["a"])("logout")],h.prototype,"logout",void 0),h=l["a"]([f["a"]],h);var b=h,m=b,v=(n("bdde"),n("2877")),O=Object(v["a"])(m,p,d,!1,null,"c508f0c8",null),j=O.exports,y=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(f["b"]);y=l["a"]([Object(f["a"])({components:{AppHeader:j}})],y);var _=y,I=_,w=Object(v["a"])(I,o,r,!1,null,null,null),k=w.exports,L=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n    Please wait...\n")])},C=[],R=n("b0b4"),T=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(R["a"])(e,[{key:"created",value:function(){this.finalizeLogin(window.location.hash)}}]),e}(f["b"]);l["a"]([Object(g["a"])("finalizeLogin")],T.prototype,"finalizeLogin",void 0),T=l["a"]([f["a"]],T);var S=T,z=S,M=Object(v["a"])(z,x,C,!1,null,null,null),P=M.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropper"},[n("input",{attrs:{type:"file",multiple:"",accept:"image/*"},on:{change:function(e){return t.uploadImages(e.target.files)}}}),n("span",[t._v("Drag files here!")])])},U=[],$=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(f["b"]);l["a"]([Object(g["a"])("uploadImages")],$.prototype,"uploadImages",void 0),$=l["a"]([f["a"]],$);var A=$,D=A,B=(n("98f5"),Object(v["a"])(D,E,U,!1,null,"7654f682",null)),H=B.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoggedIn?n("div",{staticClass:"image-container"},t._l(t.allImages,function(t){return n("img",{key:t.id,attrs:{src:t.link}})}),0):n("h2",[t._v("Login to get started.")])])},N=[],F=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(R["a"])(e,[{key:"created",value:function(){this.isLoggedIn&&this.fetchImages()}}]),e}(f["b"]);l["a"]([Object(g["b"])("allImages")],F.prototype,"allImages",void 0),l["a"]([Object(g["b"])("isLoggedIn")],F.prototype,"isLoggedIn",void 0),l["a"]([Object(g["a"])("fetchImages")],F.prototype,"fetchImages",void 0),F=l["a"]([f["a"]],F);var G=F,q=G,K=(n("7e3e"),Object(v["a"])(q,J,N,!1,null,"254d3826",null)),Q=K.exports,V=new L["a"]({mode:"hash",routes:[{path:"/oauth2/callback",component:P},{path:"/upload",component:H},{path:"/",component:Q}],base:"shenglin-alex.github.io"}),W=n("2f62"),X=(n("a481"),n("ac6a"),n("5df3"),n("1c4c"),n("4328")),Y=n("bc3a"),Z=n.n(Y),tt=function(){function t(){Object(i["a"])(this,t)}return Object(R["a"])(t,null,[{key:"login",value:function(){var t={client_id:this.CLIENT_ID,response_type:"token"};window.location.href="".concat(this.ROOT_URL,"/oauth2/authorize?").concat(Object(X["stringify"])(t))}},{key:"fetchImages",value:function(t){return Z.a.get("".concat(this.ROOT_URL,"/3/account/me/images"),{headers:{Authorization:"Bearer ".concat(t)}})}},{key:"uploadImages",value:function(t,e){var n=this,a=Array.from(t).map(function(t){var a=new FormData;return a.append("image",t),Z.a.post("".concat(n.ROOT_URL,"/3/image"),a,{headers:{Authorization:"Bearer ".concat(e)}})});return Promise.all(a)}}]),t}();tt.CLIENT_ID="b4fb3926425d9a5",tt.ROOT_URL="https://api.imgur.com";var et=function t(){Object(i["a"])(this,t),this.state={token:window.localStorage.getItem("imgur_token")},this.getters={isLoggedIn:function(t){return!!t.token}},this.actions={login:function(){tt.login()},finalizeLogin:function(t,e){var n=Object(X["parse"])(e.replace("#",""));t.commit("setToken",n.access_token),window.localStorage.setItem("imgur_token",n.access_token),V.push("/")},logout:function(t){t.commit("setToken",null),window.localStorage.removeItem("imgur_token")}},this.mutations={setToken:function(t,e){t.token=e}}},nt=(n("96cf"),n("3b8d")),at=function t(){Object(i["a"])(this,t),this.state={images:[]},this.getters={allImages:function(t){return t.images}},this.actions={fetchImages:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState.authModule.token,t.next=3,tt.fetchImages(n);case 3:a=t.sent,e.commit("setImages",a.data.data);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),uploadImages:function(){var t=Object(nt["a"])(regeneratorRuntime.mark(function t(e,n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState.authModule.token,t.next=3,tt.uploadImages(n,a);case 3:V.push("/");case 4:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}()},this.mutations={setImages:function(t,e){t.images=e}}};a["default"].use(W["a"]);var ot={state:{version:"1.0.0"},modules:{authModule:new et,imagesModule:new at}},rt=new W["a"].Store(ot);a["default"].config.productionTip=!1,a["default"].use(L["a"]),new a["default"]({router:V,store:rt,render:function(t){return t(k)}}).$mount("#app")},d6fe:function(t,e,n){},f114:function(t,e,n){}});
//# sourceMappingURL=app.433cdeb5.js.map